<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ru-guard.js v1 ‚Äî –¥–µ–º–æ</title>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: #0d0d12;
      color: #dde1ec;
      padding: 48px 20px 80px;
      min-height: 100vh;
    }

    header { margin-bottom: 40px; }
    h1 {
      font-size: 2rem; font-weight: 800; letter-spacing: -.02em;
      background: linear-gradient(135deg, #a78bfa, #60a5fa);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .tagline { color: #666; font-size: .9rem; margin-top: 4px; }
    .version {
      display: inline-block; margin-top: 8px;
      padding: 2px 10px; border-radius: 20px;
      font-size: .72rem; font-weight: 700; letter-spacing: .06em;
      background: #1e1b4b; color: #a5b4fc; border: 1px solid #312e81;
    }

    /* ‚îÄ‚îÄ Status banner ‚îÄ‚îÄ */
    #status {
      padding: 14px 20px; border-radius: 10px; margin-bottom: 36px;
      font-weight: 600; font-size: .92rem; border: 1px solid transparent;
      display: flex; align-items: center; gap: 10px;
    }
    #status.loading { background: #1a1a2e; border-color: #2a2a4e; color: #666; }
    #status.ru   { background: #2d1515; border-color: #7f1d1d; color: #fca5a5; }
    #status.noru { background: #0f2318; border-color: #14532d; color: #86efac; }
    #status .dot {
      width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0;
      background: currentColor; opacity: .7;
    }
    #status.loading .dot { animation: pulse 1s infinite; }
    @keyframes pulse { 0%,100%{opacity:.2} 50%{opacity:.8} }

    /* ‚îÄ‚îÄ Detection info ‚îÄ‚îÄ */
    #det-info {
      display: none;
      font-size: .78rem; color: #555; margin-top: 6px; padding-left: 18px;
      font-family: monospace;
    }

    /* ‚îÄ‚îÄ Grid layout ‚îÄ‚îÄ */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 20px;
      margin-bottom: 32px;
    }

    .card {
      background: #14141c; border: 1px solid #22223a;
      border-radius: 14px; padding: 22px; overflow: hidden;
    }
    .card-header { display: flex; align-items: center; gap: 10px; margin-bottom: 14px; }
    .card h2 { font-size: .88rem; font-weight: 600; color: #c9d1e0; }

    .badge {
      padding: 3px 9px; border-radius: 20px;
      font-size: .7rem; font-weight: 800; letter-spacing: .06em; white-space: nowrap;
    }
    .b-hide         { background: #3b1010; color: #fca5a5; }
    .b-censor       { background: #0f2340; color: #93c5fd; }
    .b-censor-alert { background: #2a1545; color: #c4b5fd; }
    .b-words        { background: #0f2e1c; color: #6ee7b7; }
    .b-only         { background: #2e2412; color: #fcd34d; }
    .b-only-alert   { background: #2e1012; color: #fda4af; }

    .demo-block {
      background: #1c1c28; border-radius: 8px; padding: 14px;
      font-size: .875rem; line-height: 1.7; color: #9ca3af;
      min-height: 60px;
    }
    .demo-block p + p { margin-top: .5em; }

    /* ‚îÄ‚îÄ Config section ‚îÄ‚îÄ */
    .config-section {
      background: #14141c; border: 1px solid #22223a; border-radius: 14px; padding: 24px;
    }
    .config-section h2 {
      font-size: 1rem; font-weight: 700; color: #a5b4fc; margin-bottom: 16px;
    }
    pre {
      background: #0a0a10; border: 1px solid #1e1e30; border-radius: 8px;
      padding: 16px; font-size: .8rem; overflow-x: auto;
      color: #c9d1d9; line-height: 1.65;
      white-space: pre;
    }
    .c-comment { color: #4b5563; }
    .c-key     { color: #93c5fd; }
    .c-str     { color: #86efac; }
    .c-val     { color: #fcd34d; }
    .c-fn      { color: #c4b5fd; }
    .c-rx      { color: #fda4af; }
  </style>
</head>
<body>

  <header>
    <h1><a href="https://github.com/krushinru/ru-guard">ru-guard.js</a></h1>
    <p class="tagline">–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–æ—Å—Å–∏–π—Å–∫—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –ü–æ–º–æ–≥–∞–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞–º —Å–∞–π—Ç–æ–≤ —Å–æ–±–ª—é–¥–∞—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –∑–∞–∫–æ–Ω—ã</p>
    <span class="version">v1.0.0</span>
  </header>

  <div id="status" class="loading">
    <div class="dot"></div>
    <span>–û–ø—Ä–µ–¥–µ–ª—è—é –ª–æ–∫–∞—Ü–∏—é‚Ä¶</span>
  </div>
  <div id="det-info"></div>

  <div class="grid">

    <!-- ru-hide -->
    <div class="card">
      <div class="card-header">
        <span class="badge b-hide">ru-hide</span>
        <h2>–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç—å –¥–ª—è –†–§</h2>
      </div>
      <div class="demo-block ru-hide">
        üîí –≠—Ç–æ—Ç –±–ª–æ–∫ –Ω–µ–≤–∏–¥–∏–º –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –†–æ—Å—Å–∏–∏.
      </div>
    </div>

    <!-- ru-only -->
    <div class="card">
      <div class="card-header">
        <span class="badge b-only">ru-only</span>
        <h2>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –†–§</h2>
      </div>
      <div class="demo-block ru-only">
        üá∑üá∫ –≠—Ç–æ—Ç –±–ª–æ–∫ –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ –†–æ—Å—Å–∏–∏.
      </div>
    </div>

    <!-- ru-censor -->
    <div class="card">
      <div class="card-header">
        <span class="badge b-censor">ru-censor</span>
        <h2>–†–∞–∑–º—ã—Ç—å –¥–ª—è –†–§ (–±–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏—è)</h2>
      </div>
      <div class="demo-block ru-censor">
        –≠—Ç–æ—Ç –±–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞—Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω
        –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –†–æ—Å—Å–∏–∏. 
      </div>
    </div>

    <!-- ru-censor-alert -->
    <div class="card">
      <div class="card-header">
        <span class="badge b-censor-alert">ru-censor-alert</span>
        <h2>–†–∞–∑–º—ã—Ç—å + —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –†–§</h2>
      </div>
      <div class="demo-block ru-censor-alert" style="min-height:80px">
        –≠—Ç–æ—Ç –±–ª–æ–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞—Ü–µ–Ω–∑—É—Ä–∏—Ä–æ–≤–∞–Ω
        –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –†–æ—Å—Å–∏–∏. –û–Ω–∏ —É–≤–∏–¥—è—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
      </div>
    </div>

    <!-- ru-only-alert -->
    <div class="card">
      <div class="card-header">
        <span class="badge b-only-alert">ru-only-alert</span>
        <h2>–ü—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –Ω–µ-–†–§ –∞—É–¥–∏—Ç–æ—Ä–∏—é</h2>
      </div>
      <div class="demo-block ru-only-alert" style="min-height:80px">
        –≠—Ç–æ—Ç –±–ª–æ–∫ –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏–∑ –†–æ—Å—Å–∏–∏.
      </div>
    </div>

    <!-- ru-censor-words -->
    <div class="card">
      <div class="card-header">
        <span class="badge b-words">ru-censor-words</span>
        <h2>–¶–µ–Ω–∑—É—Ä–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–ª–æ–≤</h2>
      </div>
      <div class="demo-block ru-censor-words">
        –í —ç—Ç–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏ –º—ã —É–±—Ä–∞–ª–∏ —Å–ª–æ–≤–æ VPN.
        –°–ª–æ–≤–æ ¬´–≤–ø–Ω¬ª —Ç–æ–∂–µ –ø–æ–ø–∞–¥—ë—Ç –ø–æ–¥ —Ñ–∏–ª—å—Ç—Ä, –∫–∞–∫ –∏ –í–ü–ù –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏.
        –í—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∑–∞ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ DOM.
      </div>
    </div>

  </div>

  <!-- Config examples -->
  <div class="config-section">
    <h2>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ API</h2>
<pre><span class="c-comment">// ‚îÄ‚îÄ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</span>

<span class="c-comment">// –ê–≤—Ç–æ-—Ä–µ–∂–∏–º (–Ω—É–ª–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)</span>
&lt;script src=<span class="c-str">"ru-guard.js"</span> data-auto&gt;&lt;/script&gt;

<span class="c-comment">// –†—É—á–Ω–æ–π –≤—ã–∑–æ–≤ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise</span>
&lt;script src=<span class="c-str">"ru-guard.js"</span>&gt;&lt;/script&gt;
&lt;script&gt;
  RuGuard.<span class="c-fn">init</span>({
    <span class="c-comment">// –†–µ–∂–∏–º –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</span>
    <span class="c-key">detection</span>:        <span class="c-str">'ip|timezone'</span>,  <span class="c-comment">// 'timezone' | 'ip' | 'ip+timezone' | 'ip|timezone'</span>

    <span class="c-comment">// IP API (–¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON —Å –ø–æ–ª–µ–º country_code)</span>
    <span class="c-key">ipApiUrl</span>:         <span class="c-str">'https://ipapi.co/json/'</span>,
    <span class="c-key">ipApiFallbackUrl</span>: <span class="c-str">'https://ip-api.com/json/'</span>,
    <span class="c-key">ipTimeout</span>:        <span class="c-val">4000</span>,           <span class="c-comment">// –º—Å</span>

    <span class="c-comment">// –ö–æ–Ω—Ç–µ–Ω—Ç</span>
    <span class="c-key">censoredWords</span>:  [<span class="c-str">'VPN'</span>, <span class="c-str">'–≤–ø–Ω'</span>, <span class="c-str">'Tor'</span>, <span class="c-str">'–ø—Ä–æ–∫—Å–∏'</span>],
    <span class="c-key">blurAmount</span>:     <span class="c-str">'24px'</span>,
    <span class="c-key">alertText</span>:      <span class="c-str">'–ú–∞—Ç–µ—Ä–∏–∞–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–§'</span>,
    <span class="c-key">nonRuAlertText</span>: <span class="c-str">'–¢–æ–ª—å–∫–æ –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏–∑ –†–æ—Å—Å–∏–∏'</span>,
  }).<span class="c-fn">then</span>(<span class="c-key">function</span>(r) {
    console.<span class="c-fn">log</span>(r);
    <span class="c-comment">// {</span>
    <span class="c-comment">//   isRu: true,        ‚Üê –∏—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ</span>
    <span class="c-comment">//   method: 'ip|timezone',</span>
    <span class="c-comment">//   tzMatch: true,     ‚Üê —Å–æ–≤–ø–∞–ª –ª–∏ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å</span>
    <span class="c-comment">//   ipMatch: true,     ‚Üê —Å–æ–≤–ø–∞–ª –ª–∏ IP (null –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)</span>
    <span class="c-comment">//   hidden: 1, censored: 1, alerts: 1,</span>
    <span class="c-comment">//   wordBlocks: 1, ruOnly: 0, ruOnlyAlerts: 1</span>
    <span class="c-comment">// }</span>
  });

  <span class="c-comment">// –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª</span>
  RuGuard.<span class="c-fn">isRussianUser</span>().<span class="c-fn">then</span>(<span class="c-key">function</span>(isRu) {
    <span class="c-key">if</span> (isRu) analytics.<span class="c-fn">track</span>(<span class="c-str">'ru_visitor'</span>);
  });
&lt;/script&gt;</pre>
  </div>

  <script src="ru-guard.js"></script>
  <script>
    RuGuard.init().then(function (r) {
      var el = document.getElementById('status');
      var info = document.getElementById('det-info');

      if (r.isRu) {
        el.className = 'ru';
        el.querySelector('span').textContent = '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–∑ –†–æ—Å—Å–∏–∏';
      } else {
        el.className = 'noru';
        el.querySelector('span').textContent = '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–∑ –†–æ—Å—Å–∏–∏';
      }

      info.style.display = 'block';
      info.textContent = [
        'method=' + r.method,
        'tz=' + r.tzMatch,
        'ip=' + (r.ipMatch === null ? 'n/a' : r.ipMatch),
      ].join('  ¬∑  ');
    });
  </script>
</body>
</html>
